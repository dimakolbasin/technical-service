<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tech Fix — redirect</title>
  <meta name="description" content="Redirecting to your localized page.">
  <meta name="robots" content="noindex, nofollow, noarchive">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/icon-tools.png" type="image/png">
  <link rel="apple-touch-icon" href="/assets/icons/icon-tools.png">
  <% const defaultLang = i18n.languages[0]; %>
  <link rel="canonical" href="<%= site.baseUrl + defaultLang.paths.home %>">
  <link rel="alternate" hreflang="ru" href="<%= site.baseUrl %>/ru/">
  <link rel="alternate" hreflang="en" href="<%= site.baseUrl %>/en/">
  <link rel="alternate" hreflang="ka" href="<%= site.baseUrl %>/ka/">
  <link rel="alternate" hreflang="x-default" href="<%= site.baseUrl + defaultLang.paths.home %>">
  <meta property="og:type" content="website">
  <meta property="og:url" content="<%= site.baseUrl + defaultLang.paths.home %>">
  <meta property="og:title" content="<%= defaultLang.home.metaTitle %>">
  <meta property="og:description" content="<%= defaultLang.home.metaDescription %>">
  <meta property="og:site_name" content="<%= site.name %>">
  <meta property="og:locale" content="<%= defaultLang.code %>">
  <meta property="og:image" content="<%= site.baseUrl %>/assets/icons/meta-pic.webp">
<!--  <meta name="twitter:card" content="summary_large_image">-->
<!--  <meta name="twitter:title" content="<%= defaultLang.home.metaTitle %>">-->
<!--  <meta name="twitter:description" content="<%= defaultLang.home.metaDescription %>">-->
<!--  <meta name="twitter:image" content="<%= site.baseUrl %>/assets/icons/meta-pic.webp">-->
  <script>
    (function () {
      const supportedLangs = { ru: '/ru/', en: '/en/', ka: '/ka/' };
      const getCookie = (name) => {
        const pair = document.cookie.split('; ').find((row) => row.startsWith(name + '='));
        return pair ? decodeURIComponent(pair.split('=')[1]) : null;
      };
      const cookieLang = getCookie('preferred_lang');
      const navLang = (navigator.language || navigator.userLanguage || '').toLowerCase().split('-')[0];
      const lang = cookieLang || navLang;
      const target = supportedLangs[lang] || '/ru/';
      if (location.pathname !== target) {
        const code = supportedLangs[lang] ? lang : 'ru';
        document.cookie = "preferred_lang=" + encodeURIComponent(code) + ";path=/;max-age=" + 60 * 60 * 24 * 30 + ";samesite=lax";
        window.location.replace(target);
      }
    })();
  </script>
</head>

<body>
  <noscript>
    <p>Выберите язык:</p>
    <ul>
      <li><a href="/ru/">Русский</a></li>
      <li><a href="/en/">English</a></li>
      <li><a href="/ka/">ქართული</a></li>
    </ul>
  </noscript>
</body>

</html>
